<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenMORA</title>
<link href="tabs.css" rel="stylesheet" type="text/css">

<!-- Page generated automatically by Mooxygen 1.1.0 -->
<body>
<div class="tabs">
 <ul>
  <li><a href="index.html"><span>Global overview</span></a></li>
  <li class="current"><a href="modules.html"><span>All modules</span></a></li>
  <li><a href="variables.html"><span>All variables</span></a></li>
  <li><a href="commands.html"><span>All commands</span></a></li>
  <li><a href="missions.html"><span>Mission files</span></a></li>
  <li><a href="pipelines.html"><span>Pipelines</span></a></li>
 </ul>
</div><br>
<br><center><h3> Module: WorldModel</h3></center><br>
<u>Module info:</u><br>
<br> <div align="center" ><table class="mooxygen" width="95%" >
<tr>
 <td align="center" bgcolor="lightgrey"> <b>Module name</b> </td>
 <td align="center" bgcolor="lightgrey"> <b>Short description</b> </td>
 <td align="center" bgcolor="lightgrey"> <b>Publishes</b> </td>
 <td align="center" bgcolor="lightgrey"> <b>Subscribes</b> </td>
</tr>
<tr>
 <td align="center"> <a href="module_WorldModel.html" > <small>WorldModel</small> </a></td>
 <td align="left"> <small>This module keeps a topological representation of the world</small> </td>
 <td align="center"> <small><a href="var_ERROR_MSG.html" >ERROR_MSG</a> , <a href="var_GRAPH.html" >GRAPH</a> , <a href="var_GUI_VISIBLE_TOPOLOGICAL_MAP.html" >GUI_VISIBLE_TOPOLOGICAL_MAP</a> , <a href="var_NODE_POSITION.html" >NODE_POSITION</a> , <a href="var_PATH.html" >PATH</a> , <a href="var_PERSON_LOCATION.html" >PERSON_LOCATION</a> , <a href="var_ROBOT_TOPOLOGICAL_PLACE.html" >ROBOT_TOPOLOGICAL_PLACE</a> </small> </td>
 <td align="center"> <small><a href="var_ADD_ARC.html" >ADD_ARC</a> , <a href="var_ADD_NODE.html" >ADD_NODE</a> , <a href="var_CHANGE_NODE_LABEL.html" >CHANGE_NODE_LABEL</a> , <a href="var_GET_NODE_POSITION.html" >GET_NODE_POSITION</a> , <a href="var_GET_PATH.html" >GET_PATH</a> , <a href="var_GET_PERSON_LOCATION.html" >GET_PERSON_LOCATION</a> , <a href="var_LOAD_GRAPH.html" >LOAD_GRAPH</a> , <a href="var_LOCALIZATION.html" >LOCALIZATION</a> , <a href="var_MOVE_NODE.html" >MOVE_NODE</a> , <a href="var_REMOVE_ARC.html" >REMOVE_ARC</a> , <a href="var_REMOVE_NODE.html" >REMOVE_NODE</a> , <a href="var_SAVE_GRAPH.html" >SAVE_GRAPH</a> , <a href="var_SHUTDOWN.html" >SHUTDOWN</a> </small> </td>
</tr>
</table> </div>
<br>
<u>MOOS commands accepted by the module:</u><br><ul>
<li>(None)</li>
</ul><br>
<u>Parameters accepted in the MOOS mission file:</u><br>
<div align="center" ><table class="mooxygen" width="95%" >
<tr>
 <td align="center" bgcolor="lightgrey"> <b>Parameter</b> </td>
 <td align="center" bgcolor="lightgrey"> <b>Description</b> </td>
</tr>
<tr>
 <td align="center"> <code>world_model_file</code> </td>
 <td> Path to a XML file contaning the topologic structure of the world </td>
</tr>
</table></div>
<br><u>Detailed description:</u><br>
This module keeps a topological representation of the worldThe module implements functions to create, modify and delete both components of the topology :nodes and arcsIt also provides methods for finding paths from one node to another.<br><br><u>Module graph:</u><br>
<div align="center"> <img src="var_WorldModel.png" border="0" usemap="#WorldModel" alt="WorldModel"> </div>
<map id="WorldModel" name="WorldModel"><area shape="rect" id="node1" href="module_Agenda.html" title="Agenda" alt="" coords="23,101,95,149"><area shape="rect" id="node2" href="module_Arm_Kinova.html" title="Arm_Kinova" alt="" coords="1780,101,1872,149"><area shape="rect" id="node3" href="module_AutoDocking_Camera.html" title="AutoDocking_Camera" alt="" coords="1897,101,2041,149"><area shape="rect" id="node4" href="module_AutoDocking_Laser.html" title="AutoDocking_Laser" alt="" coords="2065,101,2197,149"><area shape="rect" id="node5" href="module_BatteryManager.html" title="BatteryManager" alt="" coords="2221,101,2332,149"><area shape="rect" id="node6" href="module_CamControl_ImagingSource.html" title="CamControl_ImagingSource" alt="" coords="2357,101,2535,149"><area shape="rect" id="node7" href="module_DAQ_Advantech.html" title="DAQ_Advantech" alt="" coords="2559,101,2674,149"><area shape="rect" id="node8" href="module_DistributionMapping.html" title="DistributionMapping" alt="" coords="1135,101,1274,149"><area shape="poly" id="node59" href="var_LOCALIZATION.html" title="LOCALIZATION" alt="" coords="1255,221,1252,214,1244,207,1230,202,1214,199,1195,197,1177,199,1160,202,1147,207,1139,214,1136,221,1139,229,1147,235,1160,241,1177,244,1195,245,1214,244,1230,241,1244,235,1252,229"><area shape="rect" id="node9" href="module_Domotics_IpPower.html" title="Domotics_IpPower" alt="" coords="2698,101,2823,149"><area shape="rect" id="node10" href="module_eNeck.html" title="eNeck" alt="" coords="2847,101,2919,149"><area shape="rect" id="node11" href="module_Enose_Display.html" title="Enose_Display" alt="" coords="2943,101,3047,149"><area shape="rect" id="node12" href="module_Enose_MCE.html" title="Enose_MCE" alt="" coords="3071,101,3162,149"><area shape="rect" id="node13" href="module_Enose_Simul.html" title="Enose_Simul" alt="" coords="911,293,1005,341"><area shape="rect" id="node14" href="module_Executor.html" title="Executor" alt="" coords="1523,485,1595,533"><area shape="poly" id="node57" href="var_GUI_VISIBLE_TOPOLOGICAL_MAP.html" title="GUI_VISIBLE_TOPOLOGICAL_MAP" alt="" coords="1741,605,1735,598,1719,591,1693,586,1661,583,1625,581,1589,583,1556,586,1530,591,1514,598,1508,605,1514,613,1530,619,1556,625,1589,628,1625,629,1661,628,1693,625,1719,619,1735,613"><area shape="poly" id="node66" href="var_ROBOT_TOPOLOGICAL_PLACE.html" title="ROBOT_TOPOLOGICAL_PLACE" alt="" coords="1245,605,1240,598,1225,591,1202,586,1173,583,1141,581,1108,583,1079,586,1056,591,1041,598,1036,605,1041,613,1056,619,1079,625,1108,628,1141,629,1173,628,1202,625,1225,619,1240,613"><area shape="rect" id="node15" href="module_GenericSensor.html" title="GenericSensor" alt="" coords="3187,101,3287,149"><area shape="rect" id="node16" href="module_JoystickControl.html" title="JoystickControl" alt="" coords="3311,101,3421,149"><area shape="rect" id="node17" href="module_Kinect_Odometry.html" title="Kinect_Odometry" alt="" coords="3445,101,3564,149"><area shape="rect" id="node18" href="module_LibeliumWSN.html" title="LibeliumWSN" alt="" coords="3588,101,3688,149"><area shape="rect" id="node19" href="module_Localization2D_Fusion.html" title="Localization2D_Fusion" alt="" coords="1300,101,1451,149"><area shape="rect" id="node20" href="module_Localization2D_PF.html" title="Localization2D_PF" alt="" coords="3713,101,3841,149"><area shape="rect" id="node21" href="module_LookAtPoint.html" title="LookAtPoint" alt="" coords="1233,293,1326,341"><area shape="rect" id="node22" href="module_MapCreator.html" title="MapCreator" alt="" coords="3865,101,3952,149"><area shape="rect" id="node23" href="module_MobileRobot_Giraff.html" title="MobileRobot_Giraff" alt="" coords="3976,101,4111,149"><area shape="rect" id="node24" href="module_MobileRobot_Pioneer.html" title="MobileRobot_Pioneer" alt="" coords="4135,101,4279,149"><area shape="rect" id="node25" href="module_MobileRobot_Segway.html" title="MobileRobot_Segway" alt="" coords="4304,101,4449,149"><area shape="rect" id="node26" href="module_MobileRobot_Simul.html" title="MobileRobot_Simul" alt="" coords="4473,101,4608,149"><area shape="rect" id="node27" href="module_MonoCamera.html" title="MonoCamera" alt="" coords="4633,101,4729,149"><area shape="rect" id="node28" href="module_MOX_SensorModel.html" title="MOX_SensorModel" alt="" coords="4753,101,4883,149"><area shape="rect" id="node29" href="module_MQTTMosquitto.html" title="MQTTMosquitto" alt="" coords="792,677,908,725"><area shape="poly" id="node49" href="var_ADD_ARC.html" title="ADD_ARC" alt="" coords="892,797,890,790,884,783,875,778,863,775,850,773,837,775,825,778,816,783,810,790,808,797,810,805,816,811,825,817,837,820,850,821,863,820,875,817,884,811,890,805"><area shape="poly" id="node50" href="var_ADD_NODE.html" title="ADD_NODE" alt="" coords="1406,797,1404,790,1397,783,1387,778,1374,775,1359,773,1345,775,1332,778,1321,783,1315,790,1312,797,1315,805,1321,811,1332,817,1345,820,1359,821,1374,820,1387,817,1397,811,1404,805"><area shape="poly" id="node51" href="var_CHANGE_NODE_LABEL.html" title="CHANGE_NODE_LABEL" alt="" coords="1083,797,1078,790,1067,783,1048,778,1025,775,999,773,974,775,950,778,932,783,920,790,916,797,920,805,932,811,950,817,974,820,999,821,1025,820,1048,817,1067,811,1078,805"><area shape="poly" id="node53" href="var_GET_NODE_POSITION.html" title="GET_NODE_POSITION" alt="" coords="371,797,367,790,356,783,339,778,317,775,293,773,268,775,246,778,229,783,218,790,214,797,218,805,229,811,246,817,268,820,293,821,317,820,339,817,356,811,367,805"><area shape="poly" id="node58" href="var_LOAD_GRAPH.html" title="LOAD_GRAPH" alt="" coords="504,797,502,790,494,783,482,778,467,775,450,773,433,775,418,778,406,783,398,790,396,797,398,805,406,811,418,817,433,820,450,821,467,820,482,817,494,811,502,805"><area shape="poly" id="node60" href="var_MOVE_NODE.html" title="MOVE_NODE" alt="" coords="1534,797,1532,790,1524,783,1513,778,1498,775,1482,773,1466,775,1451,778,1440,783,1432,790,1430,797,1432,805,1440,811,1451,817,1466,820,1482,821,1498,820,1513,817,1524,811,1532,805"><area shape="poly" id="node64" href="var_REMOVE_ARC.html" title="REMOVE_ARC" alt="" coords="639,797,636,790,628,783,616,778,600,775,583,773,566,775,551,778,539,783,531,790,528,797,531,805,539,811,551,817,566,820,583,821,600,820,616,817,628,811,636,805"><area shape="poly" id="node65" href="var_REMOVE_NODE.html" title="REMOVE_NODE" alt="" coords="784,797,781,790,772,783,759,778,742,775,723,773,705,775,688,778,674,783,666,790,663,797,666,805,674,811,688,817,705,820,723,821,742,820,759,817,772,811,781,805"><area shape="poly" id="node67" href="var_SAVE_GRAPH.html" title="SAVE_GRAPH" alt="" coords="1678,797,1676,790,1668,783,1656,778,1641,775,1625,773,1608,775,1593,778,1581,783,1574,790,1571,797,1574,805,1581,811,1593,817,1608,820,1625,821,1641,820,1656,817,1668,811,1676,805"><area shape="rect" id="node30" href="module_NavigatorReactivePTG.html" title="NavigatorReactivePTG" alt="" coords="1351,293,1499,341"><area shape="rect" id="node31" href="module_NavigatorReactivePTG3D.html" title="NavigatorReactivePTG3D" alt="" coords="5,293,169,341"><area shape="poly" id="node68" href="var_SHUTDOWN.html" title="SHUTDOWN" alt="" coords="2988,29,2985,22,2978,15,2968,10,2954,7,2939,5,2924,7,2911,10,2900,15,2893,22,2891,29,2893,37,2900,43,2911,49,2924,52,2939,53,2954,52,2968,49,2978,43,2985,37"><area shape="rect" id="node32" href="module_NavigatorTopological.html" title="NavigatorTopological" alt="" coords="1189,485,1332,533"><area shape="rect" id="node33" href="module_Planner.html" title="Planner" alt="" coords="773,485,845,533"><area shape="rect" id="node34" href="module_RandomNavigator.html" title="RandomNavigator" alt="" coords="1210,677,1333,725"><area shape="rect" id="node35" href="module_RGBDSensorToReactive.html" title="RGBDSensorToReactive" alt="" coords="4907,101,5065,149"><area shape="rect" id="node36" href="module_RobotControlManager.html" title="RobotControlManager" alt="" coords="501,293,647,341"><area shape="poly" id="node52" href="var_ERROR_MSG.html" title="ERROR_MSG" alt="" coords="597,413,595,406,588,399,577,394,563,391,547,389,532,391,518,394,507,399,500,406,497,413,500,421,507,427,518,433,532,436,547,437,563,436,577,433,588,427,595,421"><area shape="rect" id="node37" href="module_RobotGUI.html" title="RobotGUI" alt="" coords="1585,677,1664,725"><area shape="rect" id="node38" href="module_SessionLogger.html" title="SessionLogger" alt="" coords="5089,101,5192,149"><area shape="rect" id="node39" href="module_SpeechSynth.html" title="SpeechSynth" alt="" coords="5217,101,5310,149"><area shape="rect" id="node40" href="module_StateCharts.html" title="StateCharts" alt="" coords="5335,101,5419,149"><area shape="rect" id="node41" href="module_TEST_extRGBDSensor.html" title="TEST_extRGBDSensor" alt="" coords="5443,101,5593,149"><area shape="rect" id="node42" href="module_TextInterpreter.html" title="TextInterpreter" alt="" coords="5617,101,5720,149"><area shape="rect" id="node43" href="module_TwitterAgent.html" title="TwitterAgent" alt="" coords="5744,101,5839,149"><area shape="rect" id="node44" href="module_VoiceFestival.html" title="VoiceFestival" alt="" coords="5863,101,5960,149"><area shape="rect" id="node45" href="module_VoiceVerbio.html" title="VoiceVerbio" alt="" coords="5985,101,6075,149"><area shape="rect" id="node46" href="module_Wifi_KeepCoverage.html" title="Wifi_KeepCoverage" alt="" coords="1523,293,1657,341"><area shape="rect" id="node47" href="module_Wifi_Monitor.html" title="Wifi_Monitor" alt="" coords="6099,101,6198,149"><area shape="rect" id="node48" href="module_WorldModel.html" title="WorldModel" alt="" coords="795,293,887,341"><area shape="poly" id="node56" href="var_GRAPH.html" title="GRAPH" alt="" coords="1210,413,1208,406,1203,399,1195,394,1185,391,1174,389,1163,391,1153,394,1145,399,1140,406,1138,413,1140,421,1145,427,1153,433,1163,436,1174,437,1185,436,1195,433,1203,427,1208,421"><area shape="poly" id="node61" href="var_NODE_POSITION.html" title="NODE_POSITION" alt="" coords="1562,413,1559,406,1550,399,1536,394,1519,391,1499,389,1480,391,1462,394,1449,399,1440,406,1437,413,1440,421,1449,427,1462,433,1480,436,1499,437,1519,436,1536,433,1550,427,1559,421"><area shape="poly" id="node62" href="var_PATH.html" title="PATH" alt="" coords="962,413,960,406,955,399,947,394,937,391,926,389,915,391,905,394,897,399,892,406,890,413,892,421,897,427,905,433,915,436,926,437,937,436,947,433,955,427,960,421"><area shape="poly" id="node63" href="var_PERSON_LOCATION.html" title="PERSON_LOCATION" alt="" coords="866,413,862,406,852,399,836,394,816,391,794,389,772,391,752,394,736,399,726,406,722,413,726,421,736,427,752,433,772,436,794,437,816,436,836,433,852,427,862,421"><area shape="poly" id="node54" href="var_GET_PATH.html" title="GET_PATH" alt="" coords="811,221,808,214,802,207,792,202,780,199,766,197,752,199,740,202,730,207,724,214,721,221,724,229,730,235,740,241,752,244,766,245,780,244,792,241,802,235,808,229"><area shape="poly" id="node55" href="var_GET_PERSON_LOCATION.html" title="GET_PERSON_LOCATION" alt="" coords="1060,221,1056,214,1044,207,1024,202,1000,199,973,197,946,199,921,202,902,207,889,214,885,221,889,229,902,235,921,241,946,244,973,245,1000,244,1024,241,1044,235,1056,229"></map>
<br><u>TODO list:</u><br>
(None)
<br><br><br><u>Changes log:</u><br>
12-11-2013	Included comments on most functions and methods.12-11-2013  Added function to Rename (change label) an existing node: bool SetNodeLabel (const size_t id,std::string &amp;label);12-11-2013  Added function to Check if node with given label already exists: bool ExistsNodeLabel (std::string label);13-11-2013  Added function to remove all existing arcs between two given nodes: DeleteArcsBetweenNodes(size_t idfrom, size_t idto, const std::string type)13-11-2013  Added function to remove all incomming arcs from a given node: CAHGraph::DeleteIncommingArcs(const uint64_t idnode,const std::string arc_type)13-11-2013  Added function to remove all existing arcs incomming or outcomming from a given node: CAHGraph::DeleteAllArcs(const uint64_t idnode,const std::string arc_type)13-11-2013  Added function to remove all existing arcs incomming or outcomming from a given node: CAHGraph::DeleteAllArcs(const uint64_t idnode)13-11-2013  Added function to remove an existing node: DeleteNode(const std::string label)13-11-2013  Fixed problems when nodes do not exists, avoiding RunTimeErrors.12-11-2013 Updated method GET_PATH. Now it only takes one argument (the target node to travel to), and its implemented as NewMail12-11-2013 Added condition to OnNewMail ADD_NODE. Label of the new node should not already exists.13-11-2013 Moved functionallity from Iterate to OnNewMail, since they only should be called on request.13-11-2013 Addded Subscription to CHANGE_NODE_LABEL to change the label of a node in the topology.13.11.2013 Added Subscription to REMOVE_ARC to remove all arcs (for bidirectionality) between two nodes.13.11.2013 Added Subscription to REMOVE_NODE to remove node from Topology.<br><br>
<br><br><hr><small>Page generated by <a href="https://github.com/jlblancoc/mooxygen" >Mooxygen 1.1.0</a> at Thu Jan 22 11:30:21 2015
</small>
<br><div align="right"> <a href="http://validator.w3.org/check?uri=referer"> <img border="0" src="http://www.w3.org/Icons/valid-html401-blue" alt="Valid HTML 4.01 Transitional" height="31" width="88"></a>
</div>

</body></html>