<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenMORA</title>
<link href="tabs.css" rel="stylesheet" type="text/css">

<!-- Page generated automatically by Mooxygen 1.1.0 -->
<body>
<div class="tabs">
 <ul>
  <li><a href="index.html"><span>Global overview</span></a></li>
  <li class="current"><a href="modules.html"><span>All modules</span></a></li>
  <li><a href="variables.html"><span>All variables</span></a></li>
  <li><a href="commands.html"><span>All commands</span></a></li>
  <li><a href="missions.html"><span>Mission files</span></a></li>
  <li><a href="pipelines.html"><span>Pipelines</span></a></li>
 </ul>
</div><br>
<br><center><h3> Module: DistributionMapping</h3></center><br>
<u>Module info:</u><br>
<br> <div align="center" ><table class="mooxygen" width="95%" >
<tr>
 <td align="center" bgcolor="lightgrey"> <b>Module name</b> </td>
 <td align="center" bgcolor="lightgrey"> <b>Short description</b> </td>
 <td align="center" bgcolor="lightgrey"> <b>Publishes</b> </td>
 <td align="center" bgcolor="lightgrey"> <b>Subscribes</b> </td>
</tr>
<tr>
 <td align="center"> <a href="module_DistributionMapping.html" > <small>DistributionMapping</small> </a></td>
 <td align="left"> <small>Module that implements different algorithms for spatial data prediction, generating Distribution maps.</small> </td>
 <td align="center"> <small><a href="var_GAS_MEAN_ONLINE_MAP.html" >GAS_MEAN_ONLINE_MAP</a> , <a href="var_GAS_VAR_ONLINE_MAP.html" >GAS_VAR_ONLINE_MAP</a> , <a href="var_LOCALIZATION.html" >LOCALIZATION</a> , <a href="var_WIND_ONLINE_MAP.html" >WIND_ONLINE_MAP</a> </small> </td>
 <td align="center"> <small><a href="var_CURRENT_MAP_GAS_SIMUL.html" >CURRENT_MAP_GAS_SIMUL</a> , <a href="var_ENOSE_SIMUL.html" >ENOSE_SIMUL</a> , <a href="var_Full_MCEnose.html" >Full_MCEnose</a> , <a href="var_GDM.html" >GDM</a> , <a href="var_GT_GAS_SIMUL.html" >GT_GAS_SIMUL</a> , <a href="var_LOCALIZATION.html" >LOCALIZATION</a> , <a href="var_MCEnose.html" >MCEnose</a> , <a href="var_SHUTDOWN.html" >SHUTDOWN</a> </small> </td>
</tr>
</table> </div>
<br>
<u>MOOS commands accepted by the module:</u><br><ul>
<li>(None)</li>
</ul><br>
<u>Parameters accepted in the MOOS mission file:</u><br>
<div align="center" ><table class="mooxygen" width="95%" >
<tr>
 <td align="center" bgcolor="lightgrey"> <b>Parameter</b> </td>
 <td align="center" bgcolor="lightgrey"> <b>Description</b> </td>
</tr>
<tr>
 <td align="center"> <code>advectionFreq</code> </td>
 <td> The frequency (Hz) advection is simulated </td>
</tr>
<tr>
 <td align="center"> <code>default_wind_direction</code> </td>
 <td> The default value of the wind direction (rad) on each Grid cell </td>
</tr>
<tr>
 <td align="center"> <code>default_wind_speed</code> </td>
 <td> The default value of the wind speed (m/s) on each Grid cell </td>
</tr>
<tr>
 <td align="center"> <code>enableSaveAs3DObject</code> </td>
 <td> Indicates (true/false) if the map can be saved as a 3D Object </td>
</tr>
<tr>
 <td align="center"> <code>insert_from_rawlog</code> </td>
 <td> Indicates if data (observations) comes from a rawlog file or online </td>
</tr>
<tr>
 <td align="center"> <code>LOG_FREQUENCY</code> </td>
 <td> The frequency in Ticks to save to log_file. Refer to the general AppTick(Hz) of each OpenMORA module. </td>
</tr>
<tr>
 <td align="center"> <code>LOG_OUT_ONLINEMAPS</code> </td>
 <td> The directory where the log_files and scenes will be generated </td>
</tr>
<tr>
 <td align="center"> <code>mapType</code> </td>
 <td> The type of map to generate.In general the mapType must be a mrpt::slam::CGasConcentrationGridMap2D::TMapRepresentation,but additionally it can be &quot;MobileMap&quot; which creates two maps (a my_map covering all the experimental area of type KalmanApproximate and a fixed size mobile_map moving over the my_map) </td>
</tr>
<tr>
 <td align="center"> <code>max_x</code> </td>
 <td> The initial my_map dimensions [m] </td>
</tr>
<tr>
 <td align="center"> <code>max_y</code> </td>
 <td> The initial my_map dimensions [m] </td>
</tr>
<tr>
 <td align="center"> <code>min_x</code> </td>
 <td> The initial my_map dimensions [m] </td>
</tr>
<tr>
 <td align="center"> <code>min_y</code> </td>
 <td> The initial my_map dimensions [m] </td>
</tr>
<tr>
 <td align="center"> <code>rawlog_path</code> </td>
 <td> The path to the rawlog_file </td>
</tr>
<tr>
 <td align="center"> <code>resolution</code> </td>
 <td> The gascell side length (meters) (must be small for mapType = mrKernelDM) </td>
</tr>
<tr>
 <td align="center"> <code>SAVE_MAP_SCENE</code> </td>
 <td> Indicates if the maps should be saved as 3Dscenes </td>
</tr>
<tr>
 <td align="center"> <code>STD_increae_value</code> </td>
 <td> The increased value (normalized units) to apply to the kf_std of each cell from the my_map </td>
</tr>
<tr>
 <td align="center"> <code>std_windNoise_mod</code> </td>
 <td> The std to consider on wind information measurements (module) </td>
</tr>
<tr>
 <td align="center"> <code>std_windNoise_phi</code> </td>
 <td> The std to consider on wind information measurements (angle) </td>
</tr>
<tr>
 <td align="center"> <code>use_metricmap_information</code> </td>
 <td> Indicates for GMRF models, whether a metric map is considered when building the MRF. </td>
</tr>
<tr>
 <td align="center"> <code>useWindInformation</code> </td>
 <td> Indicates (true/false) if wind information is available for advection simulation </td>
</tr>
</table></div>
<br><u>Detailed description:</u><br>
Module that implements different algorithms for spatial data prediction, generating Distribution maps.This module is designed to work with different types of data: gas, temperature, wifi, etc.This module can work in two modes:Online:  Where the input data values come from the available OpenMORA variables (published by other modules, e-nose, temperature, wifi, etc)Offline: Where the input data comes through a rawlog file (see module ScopeLogger)The maps generated will be published as OpenMORA variables to be displayed with the main GUI module in real time, or to be used by other modules.<br><br><u>Module graph:</u><br>
<div align="center"> <img src="var_DistributionMapping.png" border="0" usemap="#DistributionMapping" alt="DistributionMapping"> </div>
<map id="DistributionMapping" name="DistributionMapping"><area shape="rect" id="node1" href="module_Agenda.html" title="Agenda" alt="" coords="5846,101,5918,149"><area shape="rect" id="node2" href="module_Arm_Kinova.html" title="Arm_Kinova" alt="" coords="631,101,723,149"><area shape="rect" id="node3" href="module_AutoDocking_Camera.html" title="AutoDocking_Camera" alt="" coords="748,101,892,149"><area shape="rect" id="node4" href="module_AutoDocking_Laser.html" title="AutoDocking_Laser" alt="" coords="916,101,1048,149"><area shape="rect" id="node5" href="module_BatteryManager.html" title="BatteryManager" alt="" coords="1072,101,1183,149"><area shape="rect" id="node6" href="module_CamControl_ImagingSource.html" title="CamControl_ImagingSource" alt="" coords="1208,101,1386,149"><area shape="rect" id="node7" href="module_DAQ_Advantech.html" title="DAQ_Advantech" alt="" coords="1410,101,1525,149"><area shape="rect" id="node8" href="module_DistributionMapping.html" title="DistributionMapping" alt="" coords="417,101,556,149"><area shape="poly" id="node52" href="var_GAS_MEAN_ONLINE_MAP.html" title="GAS_MEAN_ONLINE_MAP" alt="" coords="188,413,184,406,171,399,151,394,125,391,97,389,69,391,43,394,23,399,10,406,5,413,10,421,23,427,43,433,69,436,97,437,125,436,151,433,171,427,184,421"><area shape="poly" id="node53" href="var_GAS_VAR_ONLINE_MAP.html" title="GAS_VAR_ONLINE_MAP" alt="" coords="454,221,450,214,438,207,419,202,395,199,369,197,342,199,319,202,300,207,288,214,283,221,288,229,300,235,319,241,342,244,369,245,395,244,419,241,438,235,450,229"><area shape="poly" id="node56" href="var_LOCALIZATION.html" title="LOCALIZATION" alt="" coords="4077,221,4074,214,4065,207,4052,202,4035,199,4017,197,3998,199,3982,202,3969,207,3960,214,3957,221,3960,229,3969,235,3982,241,3998,244,4017,245,4035,244,4052,241,4065,235,4074,229"><area shape="poly" id="node59" href="var_WIND_ONLINE_MAP.html" title="WIND_ONLINE_MAP" alt="" coords="259,221,255,214,245,207,228,202,208,199,185,197,162,199,141,202,125,207,114,214,111,221,114,229,125,235,141,241,162,244,185,245,208,244,228,241,245,235,255,229"><area shape="rect" id="node9" href="module_Domotics_IpPower.html" title="Domotics_IpPower" alt="" coords="1549,101,1674,149"><area shape="rect" id="node10" href="module_eNeck.html" title="eNeck" alt="" coords="1698,101,1770,149"><area shape="rect" id="node11" href="module_Enose_Display.html" title="Enose_Display" alt="" coords="1794,101,1898,149"><area shape="rect" id="node12" href="module_Enose_MCE.html" title="Enose_MCE" alt="" coords="1922,101,2013,149"><area shape="rect" id="node13" href="module_Enose_Simul.html" title="Enose_Simul" alt="" coords="592,293,687,341"><area shape="poly" id="node49" href="var_CURRENT_MAP_GAS_SIMUL.html" title="CURRENT_MAP_GAS_SIMUL" alt="" coords="577,413,572,406,558,399,537,394,510,391,480,389,449,391,422,394,401,399,387,406,382,413,387,421,401,427,422,433,449,436,480,437,510,436,537,433,558,427,572,421"><area shape="poly" id="node55" href="var_GT_GAS_SIMUL.html" title="GT_GAS_SIMUL" alt="" coords="723,413,720,406,711,399,698,394,681,391,662,389,643,391,627,394,613,399,605,406,602,413,605,421,613,427,627,433,643,436,662,437,681,436,698,433,711,427,720,421"><area shape="rect" id="node14" href="module_Executor.html" title="Executor" alt="" coords="3186,293,3258,341"><area shape="rect" id="node15" href="module_GenericSensor.html" title="GenericSensor" alt="" coords="2038,101,2138,149"><area shape="rect" id="node16" href="module_JoystickControl.html" title="JoystickControl" alt="" coords="2162,101,2272,149"><area shape="rect" id="node17" href="module_Kinect_Odometry.html" title="Kinect_Odometry" alt="" coords="2296,101,2415,149"><area shape="rect" id="node18" href="module_LibeliumWSN.html" title="LibeliumWSN" alt="" coords="2439,101,2539,149"><area shape="rect" id="node19" href="module_Localization2D_Fusion.html" title="Localization2D_Fusion" alt="" coords="3911,101,4062,149"><area shape="rect" id="node20" href="module_Localization2D_PF.html" title="Localization2D_PF" alt="" coords="2564,101,2692,149"><area shape="rect" id="node21" href="module_LookAtPoint.html" title="LookAtPoint" alt="" coords="3760,293,3853,341"><area shape="rect" id="node22" href="module_MapCreator.html" title="MapCreator" alt="" coords="2767,101,2854,149"><area shape="rect" id="node23" href="module_MobileRobot_Giraff.html" title="MobileRobot_Giraff" alt="" coords="2878,101,3012,149"><area shape="rect" id="node24" href="module_MobileRobot_Pioneer.html" title="MobileRobot_Pioneer" alt="" coords="3037,101,3181,149"><area shape="rect" id="node25" href="module_MobileRobot_Segway.html" title="MobileRobot_Segway" alt="" coords="3206,101,3351,149"><area shape="rect" id="node26" href="module_MobileRobot_Simul.html" title="MobileRobot_Simul" alt="" coords="3375,101,3510,149"><area shape="rect" id="node27" href="module_MonoCamera.html" title="MonoCamera" alt="" coords="3534,101,3630,149"><area shape="rect" id="node28" href="module_MOX_SensorModel.html" title="MOX_SensorModel" alt="" coords="3654,101,3785,149"><area shape="rect" id="node29" href="module_MQTTMosquitto.html" title="MQTTMosquitto" alt="" coords="3878,293,3994,341"><area shape="rect" id="node30" href="module_NavigatorReactivePTG.html" title="NavigatorReactivePTG" alt="" coords="4252,293,4400,341"><area shape="rect" id="node31" href="module_NavigatorReactivePTG3D.html" title="NavigatorReactivePTG3D" alt="" coords="5936,293,6100,341"><area shape="poly" id="node58" href="var_SHUTDOWN.html" title="SHUTDOWN" alt="" coords="3699,29,3696,22,3689,15,3679,10,3665,7,3650,5,3635,7,3622,10,3611,15,3604,22,3602,29,3604,37,3611,43,3622,49,3635,52,3650,53,3665,52,3679,49,3689,43,3696,37"><area shape="rect" id="node32" href="module_NavigatorTopological.html" title="NavigatorTopological" alt="" coords="4482,293,4624,341"><area shape="rect" id="node33" href="module_Planner.html" title="Planner" alt="" coords="4086,101,4158,149"><area shape="rect" id="node34" href="module_RandomNavigator.html" title="RandomNavigator" alt="" coords="4182,101,4305,149"><area shape="rect" id="node35" href="module_RGBDSensorToReactive.html" title="RGBDSensorToReactive" alt="" coords="4329,101,4486,149"><area shape="rect" id="node36" href="module_RobotControlManager.html" title="RobotControlManager" alt="" coords="5098,293,5245,341"><area shape="rect" id="node37" href="module_RobotGUI.html" title="RobotGUI" alt="" coords="306,485,384,533"><area shape="rect" id="node38" href="module_SessionLogger.html" title="SessionLogger" alt="" coords="4562,101,4664,149"><area shape="rect" id="node39" href="module_SpeechSynth.html" title="SpeechSynth" alt="" coords="4689,101,4782,149"><area shape="rect" id="node40" href="module_StateCharts.html" title="StateCharts" alt="" coords="4807,101,4891,149"><area shape="rect" id="node41" href="module_TEST_extRGBDSensor.html" title="TEST_extRGBDSensor" alt="" coords="4916,101,5065,149"><area shape="rect" id="node42" href="module_TextInterpreter.html" title="TextInterpreter" alt="" coords="5090,101,5192,149"><area shape="rect" id="node43" href="module_TwitterAgent.html" title="TwitterAgent" alt="" coords="5216,101,5311,149"><area shape="rect" id="node44" href="module_VoiceFestival.html" title="VoiceFestival" alt="" coords="5335,101,5432,149"><area shape="rect" id="node45" href="module_VoiceVerbio.html" title="VoiceVerbio" alt="" coords="5457,101,5548,149"><area shape="rect" id="node46" href="module_Wifi_KeepCoverage.html" title="Wifi_KeepCoverage" alt="" coords="5494,293,5628,341"><area shape="rect" id="node47" href="module_Wifi_Monitor.html" title="Wifi_Monitor" alt="" coords="5622,101,5721,149"><area shape="rect" id="node48" href="module_WorldModel.html" title="WorldModel" alt="" coords="5764,293,5856,341"><area shape="poly" id="node50" href="var_ENOSE_SIMUL.html" title="ENOSE_SIMUL" alt="" coords="354,29,351,22,343,15,331,10,315,7,298,5,281,7,265,10,253,15,245,22,242,29,245,37,253,43,265,49,281,52,298,53,315,52,331,49,343,43,351,37"><area shape="poly" id="node51" href="var_Full_MCEnose.html" title="Full_MCEnose" alt="" coords="482,29,479,22,472,15,460,10,446,7,430,5,414,7,400,10,389,15,381,22,379,29,381,37,389,43,400,49,414,52,430,53,446,52,460,49,472,43,479,37"><area shape="poly" id="node54" href="var_GDM.html" title="GDM" alt="" coords="578,29,576,22,571,15,563,10,553,7,542,5,531,7,521,10,513,15,508,22,506,29,508,37,513,43,521,49,531,52,542,53,553,52,563,49,571,43,576,37"><area shape="poly" id="node57" href="var_MCEnose.html" title="MCEnose" alt="" coords="677,29,675,22,670,15,662,10,651,7,640,5,628,7,617,10,609,15,604,22,602,29,604,37,609,43,617,49,628,52,640,53,651,52,662,49,670,43,675,37"></map>
<br><u>TODO list:</u><br>
At the moment this modules has been implemented only for GasConcentration maps. Modify to work with other gridmaps.Add a new mapping algorithm the &quot;InformationFilter&quot; to avoid the instability of KalmanFilters.Solve a problem when the reference map needs to be resized. (Runtime Error)<br><br><br><u>Changes log:</u><br>
21-02-2012 Added a function that increase the STD of all cells in the m_map, to simulate loss of confidence19-03-2012 Fixed problem in the GUI visualization of the maps generated in this module. Now only the main map is sent to the GUI.19-03-2012 Added new parameters to set the initial Local map dimensions.20-0.-2012 New variable published to draw in the GUI a black square arround the robot, corresponding to the local map limits.08-04-2013 Added workflow to load data from an existing rawlog-file<br><br>
<br><br><hr><small>Page generated by <a href="https://github.com/jlblancoc/mooxygen" >Mooxygen 1.1.0</a> at Thu Jan 22 11:30:21 2015
</small>
<br><div align="right"> <a href="http://validator.w3.org/check?uri=referer"> <img border="0" src="http://www.w3.org/Icons/valid-html401-blue" alt="Valid HTML 4.01 Transitional" height="31" width="88"></a>
</div>

</body></html>